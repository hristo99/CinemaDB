extends layout

block content
  .row
    .panel-body
      .col-md-12
        .row
          .lead
            | Featured Movies
            hr
            each m in movies
              .row
                .col-md-12
                  .media.col-md-3
                    figure
                      img.avatar.avatar-original.img-thumbnail#img-preview-block(style='-webkit-user-select:none; \
                      display:block; margin:auto;' src=`${m.Image}`)
                  .col-md-6
                    h4.list-group-item-heading #{m.Title}
                    p.list-group-item-text
                      | #{m.Description}
                  .col-md-3.text-center
                    button.btn.btn-primary.btn-lg.btn-block(type='button' onClick=`getMovieData(${m.Id})`) 
                      i.glyphicon.glyphicon-eye-open
                      |  See more
                    p
                    p                    
                      | Rating ...
              
            //- a(href='#' onclick='clickSomeKindOfALink()')
            //-   | Some kind of a link
            //- input.form-control#socketId(type='text' placeholder='peer id')
            //- input.form-control#socketInput(type="text" placeholder='message')
            //- button#socketButton(onclick='sendMessage()')
            //-   | Send
            //- p#receivedMessage
            //-   | sample
            //- script(src='/socket.io/socket.io.js')
            script(type='text/javascript').
              //- var socket = io();

              //- function clickSomeKindOfALink() {
              //-   socket.emit("someKindOfAClick", {impossible: "its impossible"});
              //- }

              //- socket.on("hello from the server side", () => {
              //-   console.log("server side");
              //- });

              //- function sendMessage() {
              //-   var peerId = document.getElementById("socketId").value;
              //-   var message = document.getElementById("socketInput").value;
              //-   socket.emit("sendMessage", peerId, message);
              //- }

              //- socket.on("sendMessage", message => {
              //-   console.log(message);
              //-   document.getElementById("receivedMessage").innerHTML = message;
              //- });

              function getMovieData(movieId) {
                $(location).attr('href',`/movies/${movieId}`);
              }
